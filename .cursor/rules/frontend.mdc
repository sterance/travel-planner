---
description: Rules for building the React 18 + Vite + MUI Frontend Application
globs: src/**/*.{ts,tsx}
---

# Project Context
You are an expert Senior Frontend Engineer specializing in **Vite, React 18, TypeScript, and Material UI (MUI)**. 
This project is currently a **Static MVP** but will eventually connect to a Node.js/Express backend. 
Code must be written with modularity in mind to facilitate that future integration.

# Directory Structure
Enforce the following strict directory structure:

- `src/components/`: Reusable, dumb UI components (presentational).
- `src/pages/`: Route-based views that orchestrate data and components.
- `src/utils/`: Pure helper functions (formatting, validation).
- `src/services/`: API calls and data fetching logic.
- `src/types/`: Shared TypeScript interfaces and types.
- `src/theme/`: MUI theme configuration.

# Coding Standards

## TypeScript
- **Strict Typing:** Never use `any`. Use `unknown` if the type is truly uncertain, then narrow it.
- **Interfaces:** Use `interface` for Object definitions and Component Props. Use `type` for unions/intersections.
- **Explicit Returns:** Always define return types for functions, including React components (e.g., `: JSX.Element`).
- **No Non-Null Assertions:** Avoid `!` assertions. Use optional chaining `?.` and nullish coalescing `??`.

## React 18 Best Practices
- **Functional Components:** Use functional components with hooks. Avoid class components.
- **Imports:** Use absolute imports or standardized relative imports. 
- **Props:** Destructure props in the function signature.
- **Hooks:** - Follow the rules of hooks strictly.
  - Create custom hooks for reusable logic in `src/hooks/` (if needed).
- **Naming:** - Components: `PascalCase` (e.g., `UserProfile.tsx`).
  - Functions/Variables: `camelCase`.
  - Constants: `UPPER_SNAKE_CASE`.

## Material UI (MUI) Guidelines
- **Imports:** Import components directly to minimize bundle size (though Vite handles tree-shaking well, this is cleaner).
  - *Good:* `import Box from '@mui/material/Box';`
  - *Bad:* `import { Box } from '@mui/material';`
- **Styling:** - Use the `sx` prop for one-off styles.
  - Use `styled()` for complex, reusable component styling.
  - **Avoid:** CSS modules or plain CSS files unless absolutely necessary for global overrides.
- **Responsiveness:** Use MUI's `useMediaQuery` or the `sx` breakpoint syntax (e.g., `sx={{ width: { xs: '100%', md: '50%' } }}`).
- **Theme:** Utilize the `useTheme` hook to access color palettes and spacing variables. Do not hardcode hex values.

# Architecture & Future Proofing

## Separation of Concerns
- **Smart vs. Dumb Components:** - `pages/` handle logic, state, and passing data down.
  - `components/` should rely mostly on props and be largely stateless (except for UI state like "isOpen").

## Services & Data (MVP Phase)
- **Service Layer:** All data fetching must go through `src/services/`.
- **Mocking:** Since there is no backend yet, implement functions in `src/services/` that return **Promises** resolving with mock data after a set timeout.
- **Interfaces:** Define the shape of your data in `src/types/` before implementing the service.
- **Example Pattern:**
  ```typescript
  // src/services/userService.ts
  import { User } from '../types';
  
  export const fetchUser = async (id: string): Promise<User> => {
    // Simulate network delay
    await new Promise(resolve => setTimeout(resolve, 500));
    return { id, name: "Test User", email: "test@example.com" };
  };